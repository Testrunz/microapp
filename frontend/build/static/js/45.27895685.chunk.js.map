{"version":3,"file":"static/js/45.27895685.chunk.js","mappings":"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","sources":["../node_modules/mermaid/src/diagrams/user-journey/parser/journey.jison","../node_modules/mermaid/src/diagrams/user-journey/journeyDb.js","../node_modules/mermaid/src/diagrams/user-journey/styles.js","../node_modules/mermaid/src/diagrams/user-journey/svgDraw.js","../node_modules/mermaid/src/diagrams/user-journey/journeyRenderer.ts","../node_modules/mermaid/src/diagrams/user-journey/journeyDiagram.ts"],"sourcesContent":["/** mermaid\n *  https://mermaidjs.github.io/\n *  (c) 2015 Knut Sveidqvist\n *  MIT license.\n */\n%lex\n%options case-insensitive\n%x acc_title\n%x acc_descr\n%x acc_descr_multiline\n\n// Directive states\n%x open_directive type_directive arg_directive\n\n\n%%\n\n\\%\\%\\{                                                          { this.begin('open_directive'); return 'open_directive'; }\n<open_directive>((?:(?!\\}\\%\\%)[^:.])*)                          { this.begin('type_directive'); return 'type_directive'; }\n<type_directive>\":\"                                             { this.popState(); this.begin('arg_directive'); return ':'; }\n<type_directive,arg_directive>\\}\\%\\%                            { this.popState(); this.popState(); return 'close_directive'; }\n<arg_directive>((?:(?!\\}\\%\\%).|\\n)*)                            return 'arg_directive';\n\\%%(?!\\{)[^\\n]*                                                 /* skip comments */\n[^\\}]\\%\\%[^\\n]*                                                 /* skip comments */\n[\\n]+                   return 'NEWLINE';\n\\s+                     /* skip whitespace */\n\\#[^\\n]*                /* skip comments */\n\n\"journey\"               return 'journey';\n\"title\"\\s[^#\\n;]+       return 'title';\naccTitle\\s*\":\"\\s*                                               { this.begin(\"acc_title\");return 'acc_title'; }\n<acc_title>(?!\\n|;|#)*[^\\n]*                                    { this.popState(); return \"acc_title_value\"; }\naccDescr\\s*\":\"\\s*                                               { this.begin(\"acc_descr\");return 'acc_descr'; }\n<acc_descr>(?!\\n|;|#)*[^\\n]*                                    { this.popState(); return \"acc_descr_value\"; }\naccDescr\\s*\"{\"\\s*                                { this.begin(\"acc_descr_multiline\");}\n<acc_descr_multiline>[\\}]                       { this.popState(); }\n<acc_descr_multiline>[^\\}]*                     return \"acc_descr_multiline_value\";\n\"section\"\\s[^#:\\n;]+    return 'section';\n[^#:\\n;]+               return 'taskName';\n\":\"[^#\\n;]+             return 'taskData';\n\":\"                     return ':';\n<<EOF>>                 return 'EOF';\n.                       return 'INVALID';\n\n/lex\n\n%left '^'\n\n%start start\n\n%% /* language grammar */\n\nstart\n\t: journey document 'EOF' { return $2; }\n\t| directive start\n\t;\n\ndocument\n\t: /* empty */ { $$ = [] }\n\t| document line {$1.push($2);$$ = $1}\n\t;\n\nline\n\t: SPACE statement { $$ = $2 }\n\t| statement { $$ = $1 }\n\t| NEWLINE { $$=[];}\n\t| EOF { $$=[];}\n\t;\n\ndirective\n  : openDirective typeDirective closeDirective 'NEWLINE'\n  | openDirective typeDirective ':' argDirective closeDirective 'NEWLINE'\n  ;\n\nstatement\n  : title {yy.setDiagramTitle($1.substr(6));$$=$1.substr(6);}\n  | acc_title acc_title_value  { $$=$2.trim();yy.setAccTitle($$); }\n  | acc_descr acc_descr_value  { $$=$2.trim();yy.setAccDescription($$); }\n  | acc_descr_multiline_value { $$=$1.trim();yy.setAccDescription($$); }\n  | section {yy.addSection($1.substr(8));$$=$1.substr(8);}\n  | taskName taskData {yy.addTask($1, $2);$$='task';}\n  | directive\n  ;\n\nopenDirective\n  : open_directive { yy.parseDirective('%%{', 'open_directive'); }\n  ;\n\ntypeDirective\n  : type_directive { yy.parseDirective($1, 'type_directive'); }\n  ;\n\nargDirective\n  : arg_directive { $1 = $1.trim().replace(/'/g, '\"'); yy.parseDirective($1, 'arg_directive'); }\n  ;\n\ncloseDirective\n  : close_directive { yy.parseDirective('}%%', 'close_directive', 'journey'); }\n  ;\n\n%%\n","import mermaidAPI from '../../mermaidAPI';\nimport * as configApi from '../../config';\nimport {\n  setAccTitle,\n  getAccTitle,\n  setDiagramTitle,\n  getDiagramTitle,\n  getAccDescription,\n  setAccDescription,\n  clear as commonClear,\n} from '../../commonDb';\n\nlet currentSection = '';\n\nconst sections = [];\nconst tasks = [];\nconst rawTasks = [];\n\nexport const parseDirective = function (statement, context, type) {\n  mermaidAPI.parseDirective(this, statement, context, type);\n};\n\nexport const clear = function () {\n  sections.length = 0;\n  tasks.length = 0;\n  currentSection = '';\n  rawTasks.length = 0;\n  commonClear();\n};\n\nexport const addSection = function (txt) {\n  currentSection = txt;\n  sections.push(txt);\n};\n\nexport const getSections = function () {\n  return sections;\n};\n\nexport const getTasks = function () {\n  let allItemsProcessed = compileTasks();\n  const maxDepth = 100;\n  let iterationCount = 0;\n  while (!allItemsProcessed && iterationCount < maxDepth) {\n    allItemsProcessed = compileTasks();\n    iterationCount++;\n  }\n\n  tasks.push(...rawTasks);\n\n  return tasks;\n};\n\nconst updateActors = function () {\n  const tempActors = [];\n  tasks.forEach((task) => {\n    if (task.people) {\n      tempActors.push(...task.people);\n    }\n  });\n\n  const unique = new Set(tempActors);\n  return [...unique].sort();\n};\n\nexport const addTask = function (descr, taskData) {\n  const pieces = taskData.substr(1).split(':');\n\n  let score = 0;\n  let peeps = [];\n  if (pieces.length === 1) {\n    score = Number(pieces[0]);\n    peeps = [];\n  } else {\n    score = Number(pieces[0]);\n    peeps = pieces[1].split(',');\n  }\n  const peopleList = peeps.map((s) => s.trim());\n\n  const rawTask = {\n    section: currentSection,\n    type: currentSection,\n    people: peopleList,\n    task: descr,\n    score,\n  };\n\n  rawTasks.push(rawTask);\n};\n\nexport const addTaskOrg = function (descr) {\n  const newTask = {\n    section: currentSection,\n    type: currentSection,\n    description: descr,\n    task: descr,\n    classes: [],\n  };\n  tasks.push(newTask);\n};\n\nconst compileTasks = function () {\n  const compileTask = function (pos) {\n    return rawTasks[pos].processed;\n  };\n\n  let allProcessed = true;\n  for (const [i, rawTask] of rawTasks.entries()) {\n    compileTask(i);\n\n    allProcessed = allProcessed && rawTask.processed;\n  }\n  return allProcessed;\n};\n\nconst getActors = function () {\n  return updateActors();\n};\n\nexport default {\n  parseDirective,\n  getConfig: () => configApi.getConfig().journey,\n  clear,\n  setDiagramTitle,\n  getDiagramTitle,\n  setAccTitle,\n  getAccTitle,\n  setAccDescription,\n  getAccDescription,\n  addSection,\n  getSections,\n  getTasks,\n  addTask,\n  addTaskOrg,\n  getActors,\n};\n","const getStyles = (options) =>\n  `.label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ${options.textColor};\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ${options.textColor}\n  }\n\n  .legend {\n    fill: ${options.textColor};\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ${options.textColor}\n  }\n\n  .face {\n    ${options.faceColor ? `fill: ${options.faceColor}` : 'fill: #FFF8DC'};\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ${options.mainBkg};\n    stroke: ${options.nodeBorder};\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ${options.arrowheadColor};\n  }\n\n  .edgePath .path {\n    stroke: ${options.lineColor};\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ${options.lineColor};\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ${options.edgeLabelBackground};\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ${options.titleColor};\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ${options.tertiaryColor};\n    border: 1px solid ${options.border2};\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ${options.fillType0 ? `fill: ${options.fillType0}` : ''};\n  }\n  .task-type-1, .section-type-1  {\n    ${options.fillType0 ? `fill: ${options.fillType1}` : ''};\n  }\n  .task-type-2, .section-type-2  {\n    ${options.fillType0 ? `fill: ${options.fillType2}` : ''};\n  }\n  .task-type-3, .section-type-3  {\n    ${options.fillType0 ? `fill: ${options.fillType3}` : ''};\n  }\n  .task-type-4, .section-type-4  {\n    ${options.fillType0 ? `fill: ${options.fillType4}` : ''};\n  }\n  .task-type-5, .section-type-5  {\n    ${options.fillType0 ? `fill: ${options.fillType5}` : ''};\n  }\n  .task-type-6, .section-type-6  {\n    ${options.fillType0 ? `fill: ${options.fillType6}` : ''};\n  }\n  .task-type-7, .section-type-7  {\n    ${options.fillType0 ? `fill: ${options.fillType7}` : ''};\n  }\n\n  .actor-0 {\n    ${options.actor0 ? `fill: ${options.actor0}` : ''};\n  }\n  .actor-1 {\n    ${options.actor1 ? `fill: ${options.actor1}` : ''};\n  }\n  .actor-2 {\n    ${options.actor2 ? `fill: ${options.actor2}` : ''};\n  }\n  .actor-3 {\n    ${options.actor3 ? `fill: ${options.actor3}` : ''};\n  }\n  .actor-4 {\n    ${options.actor4 ? `fill: ${options.actor4}` : ''};\n  }\n  .actor-5 {\n    ${options.actor5 ? `fill: ${options.actor5}` : ''};\n  }\n`;\n\nexport default getStyles;\n","import { arc as d3arc } from 'd3';\n\nexport const drawRect = function (elem, rectData) {\n  const rectElem = elem.append('rect');\n  rectElem.attr('x', rectData.x);\n  rectElem.attr('y', rectData.y);\n  rectElem.attr('fill', rectData.fill);\n  rectElem.attr('stroke', rectData.stroke);\n  rectElem.attr('width', rectData.width);\n  rectElem.attr('height', rectData.height);\n  rectElem.attr('rx', rectData.rx);\n  rectElem.attr('ry', rectData.ry);\n\n  if (rectData.class !== undefined) {\n    rectElem.attr('class', rectData.class);\n  }\n\n  return rectElem;\n};\n\nexport const drawFace = function (element, faceData) {\n  const radius = 15;\n  const circleElement = element\n    .append('circle')\n    .attr('cx', faceData.cx)\n    .attr('cy', faceData.cy)\n    .attr('class', 'face')\n    .attr('r', radius)\n    .attr('stroke-width', 2)\n    .attr('overflow', 'visible');\n\n  const face = element.append('g');\n\n  //left eye\n  face\n    .append('circle')\n    .attr('cx', faceData.cx - radius / 3)\n    .attr('cy', faceData.cy - radius / 3)\n    .attr('r', 1.5)\n    .attr('stroke-width', 2)\n    .attr('fill', '#666')\n    .attr('stroke', '#666');\n\n  //right eye\n  face\n    .append('circle')\n    .attr('cx', faceData.cx + radius / 3)\n    .attr('cy', faceData.cy - radius / 3)\n    .attr('r', 1.5)\n    .attr('stroke-width', 2)\n    .attr('fill', '#666')\n    .attr('stroke', '#666');\n\n  /** @param {any} face */\n  function smile(face) {\n    const arc = d3arc()\n      .startAngle(Math.PI / 2)\n      .endAngle(3 * (Math.PI / 2))\n      .innerRadius(radius / 2)\n      .outerRadius(radius / 2.2);\n    //mouth\n    face\n      .append('path')\n      .attr('class', 'mouth')\n      .attr('d', arc)\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 2) + ')');\n  }\n\n  /** @param {any} face */\n  function sad(face) {\n    const arc = d3arc()\n      .startAngle((3 * Math.PI) / 2)\n      .endAngle(5 * (Math.PI / 2))\n      .innerRadius(radius / 2)\n      .outerRadius(radius / 2.2);\n    //mouth\n    face\n      .append('path')\n      .attr('class', 'mouth')\n      .attr('d', arc)\n      .attr('transform', 'translate(' + faceData.cx + ',' + (faceData.cy + 7) + ')');\n  }\n\n  /** @param {any} face */\n  function ambivalent(face) {\n    face\n      .append('line')\n      .attr('class', 'mouth')\n      .attr('stroke', 2)\n      .attr('x1', faceData.cx - 5)\n      .attr('y1', faceData.cy + 7)\n      .attr('x2', faceData.cx + 5)\n      .attr('y2', faceData.cy + 7)\n      .attr('class', 'mouth')\n      .attr('stroke-width', '1px')\n      .attr('stroke', '#666');\n  }\n\n  if (faceData.score > 3) {\n    smile(face);\n  } else if (faceData.score < 3) {\n    sad(face);\n  } else {\n    ambivalent(face);\n  }\n\n  return circleElement;\n};\n\nexport const drawCircle = function (element, circleData) {\n  const circleElement = element.append('circle');\n  circleElement.attr('cx', circleData.cx);\n  circleElement.attr('cy', circleData.cy);\n  circleElement.attr('class', 'actor-' + circleData.pos);\n  circleElement.attr('fill', circleData.fill);\n  circleElement.attr('stroke', circleData.stroke);\n  circleElement.attr('r', circleData.r);\n\n  if (circleElement.class !== undefined) {\n    circleElement.attr('class', circleElement.class);\n  }\n\n  if (circleData.title !== undefined) {\n    circleElement.append('title').text(circleData.title);\n  }\n\n  return circleElement;\n};\n\nexport const drawText = function (elem, textData) {\n  // Remove and ignore br:s\n  const nText = textData.text.replace(/<br\\s*\\/?>/gi, ' ');\n\n  const textElem = elem.append('text');\n  textElem.attr('x', textData.x);\n  textElem.attr('y', textData.y);\n  textElem.attr('class', 'legend');\n\n  textElem.style('text-anchor', textData.anchor);\n\n  if (textData.class !== undefined) {\n    textElem.attr('class', textData.class);\n  }\n\n  const span = textElem.append('tspan');\n  span.attr('x', textData.x + textData.textMargin * 2);\n  span.text(nText);\n\n  return textElem;\n};\n\nexport const drawLabel = function (elem, txtObject) {\n  /**\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} cut\n   */\n  function genPoints(x, y, width, height, cut) {\n    return (\n      x +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      y +\n      ' ' +\n      (x + width) +\n      ',' +\n      (y + height - cut) +\n      ' ' +\n      (x + width - cut * 1.2) +\n      ',' +\n      (y + height) +\n      ' ' +\n      x +\n      ',' +\n      (y + height)\n    );\n  }\n  const polygon = elem.append('polygon');\n  polygon.attr('points', genPoints(txtObject.x, txtObject.y, 50, 20, 7));\n  polygon.attr('class', 'labelBox');\n\n  txtObject.y = txtObject.y + txtObject.labelMargin;\n  txtObject.x = txtObject.x + 0.5 * txtObject.labelMargin;\n  drawText(elem, txtObject);\n};\n\nexport const drawSection = function (elem, section, conf) {\n  const g = elem.append('g');\n\n  const rect = getNoteRect();\n  rect.x = section.x;\n  rect.y = section.y;\n  rect.fill = section.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = 'journey-section section-type-' + section.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n\n  _drawTextCandidateFunc(conf)(\n    section.text,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: 'journey-section section-type-' + section.num },\n    conf,\n    section.colour\n  );\n};\n\nlet taskCount = -1;\n/**\n * Draws an actor in the diagram with the attached line\n *\n * @param {any} elem The HTML element\n * @param {any} task The task to render\n * @param {any} conf The global configuration\n */\nexport const drawTask = function (elem, task, conf) {\n  const center = task.x + conf.width / 2;\n  const g = elem.append('g');\n  taskCount++;\n  const maxHeight = 300 + 5 * 30;\n  g.append('line')\n    .attr('id', 'task' + taskCount)\n    .attr('x1', center)\n    .attr('y1', task.y)\n    .attr('x2', center)\n    .attr('y2', maxHeight)\n    .attr('class', 'task-line')\n    .attr('stroke-width', '1px')\n    .attr('stroke-dasharray', '4 2')\n    .attr('stroke', '#666');\n\n  drawFace(g, {\n    cx: center,\n    cy: 300 + (5 - task.score) * 30,\n    score: task.score,\n  });\n\n  const rect = getNoteRect();\n  rect.x = task.x;\n  rect.y = task.y;\n  rect.fill = task.fill;\n  rect.width = conf.width;\n  rect.height = conf.height;\n  rect.class = 'task task-type-' + task.num;\n  rect.rx = 3;\n  rect.ry = 3;\n  drawRect(g, rect);\n\n  let xPos = task.x + 14;\n  task.people.forEach((person) => {\n    const colour = task.actors[person].color;\n\n    const circle = {\n      cx: xPos,\n      cy: task.y,\n      r: 7,\n      fill: colour,\n      stroke: '#000',\n      title: person,\n      pos: task.actors[person].position,\n    };\n\n    drawCircle(g, circle);\n    xPos += 10;\n  });\n\n  _drawTextCandidateFunc(conf)(\n    task.task,\n    g,\n    rect.x,\n    rect.y,\n    rect.width,\n    rect.height,\n    { class: 'task' },\n    conf,\n    task.colour\n  );\n};\n\n/**\n * Draws a background rectangle\n *\n * @param {any} elem The html element\n * @param {any} bounds The bounds of the drawing\n */\nexport const drawBackgroundRect = function (elem, bounds) {\n  const rectElem = drawRect(elem, {\n    x: bounds.startx,\n    y: bounds.starty,\n    width: bounds.stopx - bounds.startx,\n    height: bounds.stopy - bounds.starty,\n    fill: bounds.fill,\n    class: 'rect',\n  });\n  rectElem.lower();\n};\n\nexport const getTextObj = function () {\n  return {\n    x: 0,\n    y: 0,\n    fill: undefined,\n    'text-anchor': 'start',\n    width: 100,\n    height: 100,\n    textMargin: 0,\n    rx: 0,\n    ry: 0,\n  };\n};\n\nexport const getNoteRect = function () {\n  return {\n    x: 0,\n    y: 0,\n    width: 100,\n    anchor: 'start',\n    height: 100,\n    rx: 0,\n    ry: 0,\n  };\n};\n\nconst _drawTextCandidateFunc = (function () {\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} colour\n   */\n  function byText(content, g, x, y, width, height, textAttrs, colour) {\n    const text = g\n      .append('text')\n      .attr('x', x + width / 2)\n      .attr('y', y + height / 2 + 5)\n      .style('font-color', colour)\n      .style('text-anchor', 'middle')\n      .text(content);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   * @param {any} colour\n   */\n  function byTspan(content, g, x, y, width, height, textAttrs, conf, colour) {\n    const { taskFontSize, taskFontFamily } = conf;\n\n    const lines = content.split(/<br\\s*\\/?>/gi);\n    for (let i = 0; i < lines.length; i++) {\n      const dy = i * taskFontSize - (taskFontSize * (lines.length - 1)) / 2;\n      const text = g\n        .append('text')\n        .attr('x', x + width / 2)\n        .attr('y', y)\n        .attr('fill', colour)\n        .style('text-anchor', 'middle')\n        .style('font-size', taskFontSize)\n        .style('font-family', taskFontFamily);\n      text\n        .append('tspan')\n        .attr('x', x + width / 2)\n        .attr('dy', dy)\n        .text(lines[i]);\n\n      text\n        .attr('y', y + height / 2.0)\n        .attr('dominant-baseline', 'central')\n        .attr('alignment-baseline', 'central');\n\n      _setTextAttrs(text, textAttrs);\n    }\n  }\n\n  /**\n   * @param {any} content\n   * @param {any} g\n   * @param {any} x\n   * @param {any} y\n   * @param {any} width\n   * @param {any} height\n   * @param {any} textAttrs\n   * @param {any} conf\n   */\n  function byFo(content, g, x, y, width, height, textAttrs, conf) {\n    const body = g.append('switch');\n    const f = body\n      .append('foreignObject')\n      .attr('x', x)\n      .attr('y', y)\n      .attr('width', width)\n      .attr('height', height)\n      .attr('position', 'fixed');\n\n    const text = f\n      .append('xhtml:div')\n      .style('display', 'table')\n      .style('height', '100%')\n      .style('width', '100%');\n\n    text\n      .append('div')\n      .attr('class', 'label')\n      .style('display', 'table-cell')\n      .style('text-align', 'center')\n      .style('vertical-align', 'middle')\n      .text(content);\n\n    byTspan(content, body, x, y, width, height, textAttrs, conf);\n    _setTextAttrs(text, textAttrs);\n  }\n\n  /**\n   * @param {any} toText\n   * @param {any} fromTextAttrsDict\n   */\n  function _setTextAttrs(toText, fromTextAttrsDict) {\n    for (const key in fromTextAttrsDict) {\n      if (key in fromTextAttrsDict) {\n        // noinspection JSUnfilteredForInLoop\n        toText.attr(key, fromTextAttrsDict[key]);\n      }\n    }\n  }\n\n  return function (conf) {\n    return conf.textPlacement === 'fo' ? byFo : conf.textPlacement === 'old' ? byText : byTspan;\n  };\n})();\n\nconst initGraphics = function (graphics) {\n  graphics\n    .append('defs')\n    .append('marker')\n    .attr('id', 'arrowhead')\n    .attr('refX', 5)\n    .attr('refY', 2)\n    .attr('markerWidth', 6)\n    .attr('markerHeight', 4)\n    .attr('orient', 'auto')\n    .append('path')\n    .attr('d', 'M 0,0 V 4 L6,2 Z'); // this is actual shape for arrowhead\n};\n\nexport default {\n  drawRect,\n  drawCircle,\n  drawSection,\n  drawText,\n  drawLabel,\n  drawTask,\n  drawBackgroundRect,\n  getTextObj,\n  getNoteRect,\n  initGraphics,\n};\n","// @ts-nocheck TODO: fix file\nimport { select } from 'd3';\nimport svgDraw from './svgDraw';\nimport { getConfig } from '../../config';\nimport { configureSvgSize } from '../../setupGraphViewbox';\n\nexport const setConf = function (cnf) {\n  const keys = Object.keys(cnf);\n\n  keys.forEach(function (key) {\n    conf[key] = cnf[key];\n  });\n};\n\nconst actors = {};\n\n/** @param diagram - The diagram to draw to. */\nfunction drawActorLegend(diagram) {\n  const conf = getConfig().journey;\n  // Draw the actors\n  let yPos = 60;\n  Object.keys(actors).forEach((person) => {\n    const colour = actors[person].color;\n\n    const circleData = {\n      cx: 20,\n      cy: yPos,\n      r: 7,\n      fill: colour,\n      stroke: '#000',\n      pos: actors[person].position,\n    };\n    svgDraw.drawCircle(diagram, circleData);\n\n    const labelData = {\n      x: 40,\n      y: yPos + 7,\n      fill: '#666',\n      text: person,\n      textMargin: conf.boxTextMargin | 5,\n    };\n    svgDraw.drawText(diagram, labelData);\n\n    yPos += 20;\n  });\n}\n// TODO: Cleanup?\nconst conf = getConfig().journey;\nconst LEFT_MARGIN = conf.leftMargin;\nexport const draw = function (text, id, version, diagObj) {\n  const conf = getConfig().journey;\n  diagObj.db.clear();\n  diagObj.parser.parse(text + '\\n');\n\n  const securityLevel = getConfig().securityLevel;\n  // Handle root and Document for when rendering in sandbox mode\n  let sandboxElement;\n  if (securityLevel === 'sandbox') {\n    sandboxElement = select('#i' + id);\n  }\n  const root =\n    securityLevel === 'sandbox'\n      ? select(sandboxElement.nodes()[0].contentDocument.body)\n      : select('body');\n  // const doc = securityLevel === 'sandbox' ? sandboxElement.nodes()[0].contentDocument : document;\n\n  bounds.init();\n  const diagram = root.select('#' + id);\n\n  svgDraw.initGraphics(diagram);\n\n  const tasks = diagObj.db.getTasks();\n  const title = diagObj.db.getDiagramTitle();\n\n  const actorNames = diagObj.db.getActors();\n  for (const member in actors) {\n    delete actors[member];\n  }\n  let actorPos = 0;\n  actorNames.forEach((actorName) => {\n    actors[actorName] = {\n      color: conf.actorColours[actorPos % conf.actorColours.length],\n      position: actorPos,\n    };\n    actorPos++;\n  });\n\n  drawActorLegend(diagram);\n  bounds.insert(0, 0, LEFT_MARGIN, Object.keys(actors).length * 50);\n  drawTasks(diagram, tasks, 0);\n\n  const box = bounds.getBounds();\n  if (title) {\n    diagram\n      .append('text')\n      .text(title)\n      .attr('x', LEFT_MARGIN)\n      .attr('font-size', '4ex')\n      .attr('font-weight', 'bold')\n      .attr('y', 25);\n  }\n\n  const height = box.stopy - box.starty + 2 * conf.diagramMarginY;\n  const width = LEFT_MARGIN + box.stopx + 2 * conf.diagramMarginX;\n\n  configureSvgSize(diagram, height, width, conf.useMaxWidth);\n\n  // Draw activity line\n  diagram\n    .append('line')\n    .attr('x1', LEFT_MARGIN)\n    .attr('y1', conf.height * 4) // One section head + one task + margins\n    .attr('x2', width - LEFT_MARGIN - 4) // Subtract stroke width so arrow point is retained\n    .attr('y2', conf.height * 4)\n    .attr('stroke-width', 4)\n    .attr('stroke', 'black')\n    .attr('marker-end', 'url(#arrowhead)');\n\n  const extraVertForTitle = title ? 70 : 0;\n  diagram.attr('viewBox', `${box.startx} -25 ${width} ${height + extraVertForTitle}`);\n  diagram.attr('preserveAspectRatio', 'xMinYMin meet');\n  diagram.attr('height', height + extraVertForTitle + 25);\n};\n\nexport const bounds = {\n  data: {\n    startx: undefined,\n    stopx: undefined,\n    starty: undefined,\n    stopy: undefined,\n  },\n  verticalPos: 0,\n\n  sequenceItems: [],\n  init: function () {\n    this.sequenceItems = [];\n    this.data = {\n      startx: undefined,\n      stopx: undefined,\n      starty: undefined,\n      stopy: undefined,\n    };\n    this.verticalPos = 0;\n  },\n  updateVal: function (obj, key, val, fun) {\n    if (obj[key] === undefined) {\n      obj[key] = val;\n    } else {\n      obj[key] = fun(val, obj[key]);\n    }\n  },\n  updateBounds: function (startx, starty, stopx, stopy) {\n    const conf = getConfig().journey;\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const _self = this;\n    let cnt = 0;\n    /** @param type - Set to `activation` if activation */\n    function updateFn(type?: 'activation') {\n      return function updateItemBounds(item) {\n        cnt++;\n        // The loop sequenceItems is a stack so the biggest margins in the beginning of the sequenceItems\n        const n = _self.sequenceItems.length - cnt + 1;\n        _self.updateVal(item, 'starty', starty - n * conf.boxMargin, Math.min);\n        _self.updateVal(item, 'stopy', stopy + n * conf.boxMargin, Math.max);\n\n        _self.updateVal(bounds.data, 'startx', startx - n * conf.boxMargin, Math.min);\n        _self.updateVal(bounds.data, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n        if (!(type === 'activation')) {\n          _self.updateVal(item, 'startx', startx - n * conf.boxMargin, Math.min);\n          _self.updateVal(item, 'stopx', stopx + n * conf.boxMargin, Math.max);\n\n          _self.updateVal(bounds.data, 'starty', starty - n * conf.boxMargin, Math.min);\n          _self.updateVal(bounds.data, 'stopy', stopy + n * conf.boxMargin, Math.max);\n        }\n      };\n    }\n\n    this.sequenceItems.forEach(updateFn());\n  },\n  insert: function (startx, starty, stopx, stopy) {\n    const _startx = Math.min(startx, stopx);\n    const _stopx = Math.max(startx, stopx);\n    const _starty = Math.min(starty, stopy);\n    const _stopy = Math.max(starty, stopy);\n\n    this.updateVal(bounds.data, 'startx', _startx, Math.min);\n    this.updateVal(bounds.data, 'starty', _starty, Math.min);\n    this.updateVal(bounds.data, 'stopx', _stopx, Math.max);\n    this.updateVal(bounds.data, 'stopy', _stopy, Math.max);\n\n    this.updateBounds(_startx, _starty, _stopx, _stopy);\n  },\n  bumpVerticalPos: function (bump) {\n    this.verticalPos = this.verticalPos + bump;\n    this.data.stopy = this.verticalPos;\n  },\n  getVerticalPos: function () {\n    return this.verticalPos;\n  },\n  getBounds: function () {\n    return this.data;\n  },\n};\n\nconst fills = conf.sectionFills;\nconst textColours = conf.sectionColours;\n\nexport const drawTasks = function (diagram, tasks, verticalPos) {\n  const conf = getConfig().journey;\n  let lastSection = '';\n  const sectionVHeight = conf.height * 2 + conf.diagramMarginY;\n  const taskPos = verticalPos + sectionVHeight;\n\n  let sectionNumber = 0;\n  let fill = '#CCC';\n  let colour = 'black';\n  let num = 0;\n\n  // Draw the tasks\n  for (const [i, task] of tasks.entries()) {\n    if (lastSection !== task.section) {\n      fill = fills[sectionNumber % fills.length];\n      num = sectionNumber % fills.length;\n      colour = textColours[sectionNumber % textColours.length];\n\n      const section = {\n        x: i * conf.taskMargin + i * conf.width + LEFT_MARGIN,\n        y: 50,\n        text: task.section,\n        fill,\n        num,\n        colour,\n      };\n\n      svgDraw.drawSection(diagram, section, conf);\n      lastSection = task.section;\n      sectionNumber++;\n    }\n\n    // Collect the actors involved in the task\n    const taskActors = task.people.reduce((acc, actorName) => {\n      if (actors[actorName]) {\n        acc[actorName] = actors[actorName];\n      }\n\n      return acc;\n    }, {});\n\n    // Add some rendering data to the object\n    task.x = i * conf.taskMargin + i * conf.width + LEFT_MARGIN;\n    task.y = taskPos;\n    task.width = conf.diagramMarginX;\n    task.height = conf.diagramMarginY;\n    task.colour = colour;\n    task.fill = fill;\n    task.num = num;\n    task.actors = taskActors;\n\n    // Draw the box with the attached line\n    svgDraw.drawTask(diagram, task, conf);\n    bounds.insert(task.x, task.y, task.x + task.width + conf.taskMargin, 300 + 5 * 30); // stopY is the length of the descenders.\n  }\n};\n\nexport default {\n  setConf,\n  draw,\n};\n","import { DiagramDefinition } from '../../diagram-api/types';\n// @ts-ignore: TODO Fix ts errors\nimport parser from './parser/journey';\nimport db from './journeyDb';\nimport styles from './styles';\nimport renderer from './journeyRenderer';\n\nexport const diagram: DiagramDefinition = {\n  parser,\n  db,\n  renderer,\n  styles,\n  init: (cnf) => {\n    renderer.setConf(cnf.journey);\n    db.clear();\n  },\n};\n"],"names":["o","parser","lexer","currentSection","sections","tasks","rawTasks","compileTasks","allProcessed","entries","i","rawTask","processed","parseDirective","statement","context","type","m","this","getConfig","configApi.getConfig","journey","clear","length","commonClear","setDiagramTitle","getDiagramTitle","setAccTitle","s","getAccTitle","g","setAccDescription","getAccDescription","addSection","txt","push","getSections","getTasks","allItemsProcessed","iterationCount","addTask","descr","taskData","pieces","substr","split","score","peeps","Number","peopleList","map","trim","section","people","task","addTaskOrg","newTask","description","classes","getActors","tempActors","forEach","unique","Set","sort","updateActors","options","textColor","faceColor","mainBkg","nodeBorder","arrowheadColor","lineColor","edgeLabelBackground","titleColor","tertiaryColor","border2","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","actor0","actor1","actor2","actor3","actor4","actor5","drawRect","elem","rectData","rectElem","append","attr","x","y","fill","stroke","width","height","rx","ry","class","drawCircle","element","circleData","circleElement","cx","cy","pos","r","title","text","drawText","textData","nText","replace","textElem","style","anchor","span","textMargin","taskCount","getNoteRect","_drawTextCandidateFunc","byText","content","textAttrs","colour","_setTextAttrs","byTspan","conf","taskFontSize","taskFontFamily","lines","dy","byFo","body","toText","fromTextAttrsDict","key","textPlacement","rect","num","center","faceData","radius","face","arc","d3arc","startAngle","Math","PI","endAngle","innerRadius","outerRadius","smile","sad","drawFace","xPos","person","actors","color","circle","position","graphics","LEFT_MARGIN","leftMargin","bounds","data","startx","stopx","starty","stopy","verticalPos","sequenceItems","init","updateVal","obj","val","fun","updateBounds","_self","cnt","item","n","boxMargin","min","max","insert","_startx","_stopx","_starty","_stopy","bumpVerticalPos","bump","getVerticalPos","getBounds","fills","sectionFills","textColours","sectionColours","drawTasks","diagram","lastSection","taskPos","diagramMarginY","sectionNumber","taskMargin","taskActors","reduce","acc","actorName","diagramMarginX","setConf","cnf","Object","keys","draw","id","version","diagObj","db","parse","sandboxElement","securityLevel","root","nodes","contentDocument","select","svgDraw","actorNames","member","actorPos","actorColours","yPos","labelData","boxTextMargin","drawActorLegend","box","c","useMaxWidth","extraVertForTitle","renderer","styles"],"sourceRoot":""}
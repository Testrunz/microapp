"use strict";(self.webpackChunkmicroapps=self.webpackChunkmicroapps||[]).push([[858],{8846:function(e,t,r){var a=(0,r(8919).Z)(Object.getPrototypeOf,Object);t.Z=a},6759:function(e,t,r){var a=r(5275),n=r(8846),o=r(8809),i=Function.prototype,l=Object.prototype,s=i.toString,c=l.hasOwnProperty,d=s.call(Object);t.Z=function(e){if(!(0,o.Z)(e)||"[object Object]"!=(0,a.Z)(e))return!1;var t=(0,n.Z)(e);if(null===t)return!0;var r=c.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&s.call(r)==d}},4605:function(e,t,r){r.r(t),r.d(t,{diagram:function(){return I}});var a,n=r(5861),o=r(3433),i=r(7762),l=r(4687),s=r(8575),c=r(8221),d=r(8864),u=r(4354),p=r(2488),h=r(881),b=r(3385),g=(r(8703),r(9175),r(504),{}),f={},y={},w=function(e,t,r,a,n,o,l){var s=r.select('[id="'.concat(t,'"]')),c=s.insert("g").attr("class","nodes");return Object.keys(e).forEach((function(t){var r=e[t],l="default";r.classes.length>0&&(l=r.classes.join(" "));var h,g=(0,b.m)(r.styles),f=void 0!==r.text?r.text:r.id,w={width:0,height:0};if((0,p.j)((0,p.g)().flowchart.htmlLabels)){var k={label:f.replace(/fa[blrs]?:fa-[\w-]+/g,(function(e){return"<i class='".concat(e.replace(":"," "),"'></i>")}))},x=(h=(0,u.a)(s,k).node()).getBBox();w.width=x.width,w.height=x.height,w.labelNode=h,h.parentNode.removeChild(h)}else{var v=a.createElementNS("http://www.w3.org/2000/svg","text");v.setAttribute("style",g.labelStyle.replace("color:","fill:"));var m,S=f.split(p.d.lineBreakRegex),_=(0,i.Z)(S);try{for(_.s();!(m=_.n()).done;){var E=m.value,T=a.createElementNS("http://www.w3.org/2000/svg","tspan");T.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),T.setAttribute("dy","1em"),T.setAttribute("x","1"),T.textContent=E,v.appendChild(T)}}catch(j){_.e(j)}finally{_.f()}var B=(h=v).getBBox();w.width=B.width,w.height=B.height,w.labelNode=h}var C=[{id:r.id+"-west",layoutOptions:{"port.side":"WEST"}},{id:r.id+"-east",layoutOptions:{"port.side":"EAST"}},{id:r.id+"-south",layoutOptions:{"port.side":"SOUTH"}},{id:r.id+"-north",layoutOptions:{"port.side":"NORTH"}}],P=0,I="",O={};switch(r.type){case"round":P=5,I="rect";break;case"square":case"group":default:I="rect";break;case"diamond":I="question",O={portConstraints:"FIXED_SIDE"};break;case"hexagon":I="hexagon";break;case"odd":case"odd_right":I="rect_left_inv_arrow";break;case"lean_right":I="lean_right";break;case"lean_left":I="lean_left";break;case"trapezoid":I="trapezoid";break;case"inv_trapezoid":I="inv_trapezoid";break;case"circle":I="circle";break;case"ellipse":I="ellipse";break;case"stadium":I="stadium";break;case"subroutine":I="subroutine";break;case"cylinder":I="cylinder";break;case"doublecircle":I="doublecircle"}var L,D,N={labelStyle:g.labelStyle,shape:I,labelText:f,rx:P,ry:P,class:l,style:g.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:n.db.getTooltip(r.id)||"",domId:n.db.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:(0,p.g)().flowchart.padding};"group"!==N.type&&(L=(D=(0,d.e)(c,N,r.dir)).node().getBBox());var R={id:r.id,ports:"diamond"===r.type?C:[],layoutOptions:O,labelText:f,labelData:w,domId:n.db.lookUpDomId(r.id),width:null==L?void 0:L.width,height:null==L?void 0:L.height,type:r.type,el:D,parent:o.parentById[r.id]};y[N.id]=R})),l},k=function(e,t,r){var a={TB:{in:{north:"north"},out:{south:"west",west:"east",east:"south"}},LR:{in:{west:"west"},out:{east:"south",south:"north",north:"east"}},RL:{in:{east:"east"},out:{west:"north",north:"south",south:"west"}},BT:{in:{south:"south"},out:{north:"east",east:"west",west:"north"}}};return a.TD=a.TB,p.l.info("abc88",r,t,e),a[r][t][e]},x=function(e,t,r){if(p.l.info("getNextPort abc88",{node:e,edgeDirection:t,graphDirection:r}),!g[e])switch(r){case"TB":case"TD":g[e]={inPosition:"north",outPosition:"south"};break;case"BT":g[e]={inPosition:"south",outPosition:"north"};break;case"RL":g[e]={inPosition:"east",outPosition:"west"};break;case"LR":g[e]={inPosition:"west",outPosition:"east"}}var a="in"===t?g[e].inPosition:g[e].outPosition;return"in"===t?g[e].inPosition=k(g[e].inPosition,t,r):g[e].outPosition=k(g[e].outPosition,t,r),a},v=function(e,t,r,a){p.l.info("abc78 edges = ",e);var n,o,i=a.insert("g").attr("class","edgeLabels"),l={},s=t.db.getDirection();if(void 0!==e.defaultStyle){var u=(0,b.m)(e.defaultStyle);n=u.style,o=u.labelStyle}return e.forEach((function(t){var a="L-"+t.start+"-"+t.end;void 0===l[a]?(l[a]=0,p.l.info("abc78 new entry",a,l[a])):(l[a]++,p.l.info("abc78 new entry",a,l[a]));var u=a+"-"+l[a];p.l.info("abc78 new link id to be used is",a,u,l[a]);var h="LS-"+t.start,g="LE-"+t.end,w={style:"",labelStyle:""};switch(w.minlen=t.length||1,"arrow_open"===t.type?w.arrowhead="none":w.arrowhead="normal",w.arrowTypeStart="arrow_open",w.arrowTypeEnd="arrow_open",t.type){case"double_arrow_cross":w.arrowTypeStart="arrow_cross";case"arrow_cross":w.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":w.arrowTypeStart="arrow_point";case"arrow_point":w.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":w.arrowTypeStart="arrow_circle";case"arrow_circle":w.arrowTypeEnd="arrow_circle"}var k="",v="";switch(t.stroke){case"normal":k="fill:none;",void 0!==n&&(k=n),void 0!==o&&(v=o),w.thickness="normal",w.pattern="solid";break;case"dotted":w.thickness="normal",w.pattern="dotted",w.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":w.thickness="thick",w.pattern="solid",w.style="stroke-width: 3.5px;fill:none;"}if(void 0!==t.style){var m=(0,b.m)(t.style);k=m.style,v=m.labelStyle}w.style=w.style+=k,w.labelStyle=w.labelStyle+=v,void 0!==t.interpolate?w.curve=(0,b.n)(t.interpolate,c.c_6):void 0!==e.defaultInterpolate?w.curve=(0,b.n)(e.defaultInterpolate,c.c_6):w.curve=(0,b.n)(f.curve,c.c_6),void 0===t.text?void 0!==t.style&&(w.arrowheadStyle="fill: #333"):(w.arrowheadStyle="fill: #333",w.labelpos="c"),w.labelType="text",w.label=t.text.replace(p.d.lineBreakRegex,"\n"),void 0===t.style&&(w.style=w.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),w.labelStyle=w.labelStyle.replace("color:","fill:"),w.id=u,w.classes="flowchart-link "+h+" "+g;var S=(0,d.f)(i,w),_=function(e,t){var r=e.start,a=e.end,n=y[r],o=y[a];return n&&o?("diamond"===n.type&&(r="".concat(r,"-").concat(x(r,"out",t))),"diamond"===o.type&&(a="".concat(a,"-").concat(x(a,"in",t))),{source:r,target:a}):{source:r,target:a}}(t,s),E=_.source,T=_.target;p.l.debug("abc78 source and target",E,T),r.edges.push({id:"e"+t.start+t.end,sources:[E],targets:[T],labelEl:S,labels:[{width:w.width,height:w.height,orgWidth:w.width,orgHeight:w.height,text:w.label,layoutOptions:{"edgeLabels.inline":"true","edgeLabels.placement":"CENTER"}}],edgeData:w})})),r},m=function(e){var t={parentById:{},childrenById:{}},r=e.getSubGraphs();return p.l.info("Subgraphs - ",r),r.forEach((function(e){e.nodes.forEach((function(r){t.parentById[r]=e.id,void 0===t.childrenById[e.id]&&(t.childrenById[e.id]=[]),t.childrenById[e.id].push(r)}))})),r.forEach((function(e){e.id,void 0!==t.parentById[e.id]&&t.parentById[e.id]})),t},S=function(e,t,r){var a=function(e,t,r){for(var a=r.parentById,n=new Set,o=e;o;){if(n.add(o),o===t)return o;o=a[o]}for(o=t;o;){if(n.has(o))return o;o=a[o]}return"root"}(e,t,r);if(void 0===a||"root"===a)return{x:0,y:0};var n=y[a].offset;return{x:n.posX,y:n.posY}},_=function(e,t,r,a,n){var i=S(t.sources[0],t.targets[0],n),l=t.sections[0].startPoint,s=t.sections[0].endPoint,d=(t.sections[0].bendPoints?t.sections[0].bendPoints:[]).map((function(e){return[e.x+i.x,e.y+i.y]})),u=[[l.x+i.x,l.y+i.y]].concat((0,o.Z)(d),[[s.x+i.x,s.y+i.y]]),p=(0,c.jvg)().curve(c.c_6),h=e.insert("path").attr("d",p(u)).attr("class","path").attr("fill","none"),b=e.insert("g").attr("class","edgeLabel"),g=(0,c.Ys)(b.node().appendChild(t.labelEl)),f=g.node().firstChild.getBoundingClientRect();g.attr("width",f.width),g.attr("height",f.height),b.attr("transform","translate(".concat(t.labels[0].x+i.x,", ").concat(t.labels[0].y+i.y,")")),function(e,t,r,a){var n="";switch(a&&(n=(n=(n=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),t.arrowTypeStart){case"arrow_cross":e.attr("marker-start","url("+n+"#"+r+"-crossStart)");break;case"arrow_point":e.attr("marker-start","url("+n+"#"+r+"-pointStart)");break;case"arrow_barb":e.attr("marker-start","url("+n+"#"+r+"-barbStart)");break;case"arrow_circle":e.attr("marker-start","url("+n+"#"+r+"-circleStart)");break;case"aggregation":e.attr("marker-start","url("+n+"#"+r+"-aggregationStart)");break;case"extension":e.attr("marker-start","url("+n+"#"+r+"-extensionStart)");break;case"composition":e.attr("marker-start","url("+n+"#"+r+"-compositionStart)");break;case"dependency":e.attr("marker-start","url("+n+"#"+r+"-dependencyStart)");break;case"lollipop":e.attr("marker-start","url("+n+"#"+r+"-lollipopStart)")}switch(t.arrowTypeEnd){case"arrow_cross":e.attr("marker-end","url("+n+"#"+r+"-crossEnd)");break;case"arrow_point":e.attr("marker-end","url("+n+"#"+r+"-pointEnd)");break;case"arrow_barb":e.attr("marker-end","url("+n+"#"+r+"-barbEnd)");break;case"arrow_circle":e.attr("marker-end","url("+n+"#"+r+"-circleEnd)");break;case"aggregation":e.attr("marker-end","url("+n+"#"+r+"-aggregationEnd)");break;case"extension":e.attr("marker-end","url("+n+"#"+r+"-extensionEnd)");break;case"composition":e.attr("marker-end","url("+n+"#"+r+"-compositionEnd)");break;case"dependency":e.attr("marker-end","url("+n+"#"+r+"-dependencyEnd)");break;case"lollipop":e.attr("marker-end","url("+n+"#"+r+"-lollipopEnd)")}}(h,r,a.type,a.arrowMarkerAbsolute)},E=function e(t,r){t.forEach((function(t){t.children||(t.children=[]);var a=r.childrenById[t.id];a&&a.forEach((function(e){t.children.push(y[e])})),e(t.children,r)}))},T=function(){var e=(0,n.Z)(l.mark((function e(t,n,o,i){var s,u,b,g,f,k,x,S,T,C,P,I,O,L,D,N,R,j,H,Z,z,A;return l.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=5;break}return e.next=3,r.e(316).then(r.t.bind(r,3316,19));case 3:u=e.sent.default,a=new u;case 5:i.db.clear(),y={},i.db.setGen("gen-2"),i.parser.parse(t),b=(0,c.Ys)("body").append("div").attr("style","height:400px").attr("id","cy"),g={id:"root",layoutOptions:{"elk.hierarchyHandling":"INCLUDE_CHILDREN","org.eclipse.elk.padding":"[top=100, left=100, bottom=110, right=110]","elk.layered.spacing.edgeNodeBetweenLayers":"30","elk.direction":"DOWN"},children:[],edges:[]},p.l.info("Drawing flowchart using v3 renderer",a),f=i.db.getDirection(),e.t0=f,e.next="BT"===e.t0?16:"TB"===e.t0?18:"LR"===e.t0?20:"RL"===e.t0?22:24;break;case 16:return g.layoutOptions["elk.direction"]="UP",e.abrupt("break",24);case 18:return g.layoutOptions["elk.direction"]="DOWN",e.abrupt("break",24);case 20:return g.layoutOptions["elk.direction"]="RIGHT",e.abrupt("break",24);case 22:return g.layoutOptions["elk.direction"]="LEFT",e.abrupt("break",24);case 24:for(k=(0,p.g)(),x=k.securityLevel,S=k.flowchart,"sandbox"===x&&(T=(0,c.Ys)("#i"+n)),C="sandbox"===x?(0,c.Ys)(T.nodes()[0].contentDocument.body):(0,c.Ys)("body"),P="sandbox"===x?T.nodes()[0].contentDocument:document,I=C.select('[id="'.concat(n,'"]')),O=["point","circle","cross"],(0,d.a)(I,O,i.type,i.arrowMarkerAbsolute),L=i.db.getVertices(),N=i.db.getSubGraphs(),p.l.info("Subgraphs - ",N),R=N.length-1;R>=0;R--)D=N[R],i.db.addVertex(D.id,D.title,"group",void 0,D.classes,D.dir);return j=I.insert("g").attr("class","subgraphs"),H=m(i.db),g=w(L,n,C,P,i,H,g),Z=I.insert("g").attr("class","edges edgePath"),z=i.db.getEdges(),g=v(z,i,g,I),Object.keys(y).forEach((function(e){var t=y[e];t.parent||g.children.push(t),void 0!==H.childrenById[e]&&(t.labels=[{text:t.labelText,layoutOptions:{"nodeLabels.placement":"[H_CENTER, V_TOP, INSIDE]"},width:t.labelData.width,height:t.labelData.height}],delete t.x,delete t.y,delete t.width,delete t.height)})),E(g.children,H),p.l.info("after layout",JSON.stringify(g,null,2)),e.next=47,a.layout(g);case 47:A=e.sent,B(0,0,A.children,I,j,i,0),p.l.info("after layout",A),null==(s=A.edges)||s.map((function(e){_(Z,e,e.edgeData,i,H)})),(0,h.s)({},I,S.diagramPadding,S.useMaxWidth),b.remove();case 53:case"end":return e.stop()}}),e)})));return function(t,r,a,n){return e.apply(this,arguments)}}(),B=function e(t,r,a,n,o,i,l){a.forEach((function(e){if(e)if(y[e.id].offset={posX:e.x+t,posY:e.y+r,x:t,y:r,depth:l,width:e.width,height:e.height},"group"===e.type){var a=o.insert("g").attr("class","subgraph");a.insert("rect").attr("class","subgraph subgraph-lvl-"+l%5+" node").attr("x",e.x+t).attr("y",e.y+r).attr("width",e.width).attr("height",e.height);var n=a.insert("g").attr("class","label");n.attr("transform","translate(".concat(e.labels[0].x+t+e.x,", ").concat(e.labels[0].y+r+e.y,")")),n.node().appendChild(e.labelData.labelNode),p.l.info("Id (UGH)= ",e.type,e.labels)}else p.l.info("Id (UGH)= ",e.id),e.el.attr("transform","translate(".concat(e.x+t+e.width/2,", ").concat(e.y+r+e.height/2,")"))})),a.forEach((function(a){a&&"group"===a.type&&e(t+a.x,r+a.y,a.children,n,o,i,l+1)}))},C={getClasses:function(e,t){p.l.info("Extracting classes"),t.db.clear("ver-2");try{return t.parse(e),t.db.getClasses()}catch(r){return{}}},draw:T},P=function(e){return".label {\n    font-family: ".concat(e.fontFamily,";\n    color: ").concat(e.nodeTextColor||e.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(e.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(e.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(e.nodeTextColor||e.textColor,";\n    color: ").concat(e.nodeTextColor||e.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(e.mainBkg,";\n    stroke: ").concat(e.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(e.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(e.lineColor,";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(e.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(e.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(e.edgeLabelBackground,";\n      fill: ").concat(e.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(e.clusterBkg,";\n    stroke: ").concat(e.clusterBorder,";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(e.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(e.titleColor,";\n  }\n  /* .cluster div {\n    color: ").concat(e.titleColor,";\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(e.fontFamily,";\n    font-size: 12px;\n    background: ").concat(e.tertiaryColor,";\n    border: 1px solid ").concat(e.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .flowchartTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(e.textColor,";\n  }\n  .subgraph {\n    stroke-width:2;\n    rx:3;\n  }\n  // .subgraph-lvl-1 {\n  //   fill:#ccc;\n  //   // stroke:black;\n  // }\n  ").concat(function(e){for(var t="",r=0;r<5;r++)t+="\n      .subgraph-lvl-".concat(r," {\n        fill: ").concat(e["surface".concat(r)],";\n        stroke: ").concat(e["surfacePeer".concat(r)],";\n      }\n    ");return t}(e),"\n")},I={db:s.d,renderer:C,parser:s.p,styles:P}}}]);
//# sourceMappingURL=858.dac2be7e.chunk.js.map